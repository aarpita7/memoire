{% extends "base.html" %}

{% block content %}
<div class="new-entry-container">
    <div class="new-entry-header">
        <h1>New Journal Entry</h1>
        <p>Capture your thoughts and feelings</p>
    </div>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="flash-message">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="new-entry-form">
        <form method="POST" class="centered-form">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required 
                       placeholder="Give your entry a title">
            </div>

            <div class="form-group">
                <label for="content">Content</label>
                <textarea id="content" name="content" required 
                          placeholder="Write your thoughts here..."></textarea>
            </div>

            <div class="form-group">
                <label for="emoji">Mood</label>
                <select id="emoji" name="emoji">
                    <option value="">Select your mood</option>
                    <option value="ğŸ˜Š">ğŸ˜Š Happy</option>
                    <option value="ğŸ˜”">ğŸ˜” Sad</option>
                    <option value="ğŸ˜Œ">ğŸ˜Œ Relieved</option>
                    <option value="ğŸ¤”">ğŸ¤” Thoughtful</option>
                    <option value="ğŸ˜¤">ğŸ˜¤ Frustrated</option>
                    <option value="ğŸ¥³">ğŸ¥³ Celebrating</option>
                    <option value="ğŸ˜´">ğŸ˜´ Tired</option>
                    <option value="ğŸ’ª">ğŸ’ª Motivated</option>
                    <option value="â¤ï¸">â¤ï¸ Loving</option>
                    <option value="ğŸ˜">ğŸ˜ Cool</option>
                </select>
            </div>

            <div class="form-actions">
                <a href="{{ url_for('dashboard') }}" class="btn-cancel">Cancel</a>
                <button type="submit" class="btn-save">Save Entry</button>
            </div>
        </form>
    </div>
</div>

<script>
    // Auto-hide flash messages after 3 seconds
    document.addEventListener('DOMContentLoaded', function() {
        const flashMessages = document.querySelectorAll('.flash-message');
        flashMessages.forEach(function(message) {
            setTimeout(function() {
                message.style.opacity = '0';
                setTimeout(function() {
                    message.remove();
                }, 500);
            }, 3000);
        });
    });
</script>
{% endblock %} 